{% extends "base.html" %}
{% block title %}Admin Paneli Â· GÃ¶rev Formu Sistemi{% endblock %}

{% block content %}
<h2>ğŸ› ï¸ Admin Paneli</h2>
<div style="background: #e1f5fe; padding: 10px; border-radius: 4px; margin-bottom: 20px;">
    <strong>Bilgi:</strong> KullanÄ±cÄ± yÃ¶netimi (Ekleme/Silme/Yetkilendirme) artÄ±k Ana Portal Ã¼zerinden yapÄ±lmaktadÄ±r.
    Bu sayfada sadece mevcut listeleri gÃ¶rÃ¼ntÃ¼leyebilir ve seÃ§im listelerini (JSON) gÃ¼ncelleyebilirsiniz.
</div>

<section class="form-card">
    <h3>Listeleri DÃ¼zenle</h3>
    <form method="post" action="{{ url_for('admin_update') }}" class="stacked">
        <label for="default_dok_no">VarsayÄ±lan DÃ¶kÃ¼man No</label>
        <input id="default_dok_no" name="default_dok_no" type="text" value="{{ form_defaults.dok_no }}" required>

        <label for="default_rev_no">VarsayÄ±lan Revizyon</label>
        <input id="default_rev_no" name="default_rev_no" type="text" value="{{ form_defaults.rev_no }}" placeholder="00 / 06.05.24" required>

        <p class="helper-text">KullanÄ±cÄ±lar Ana Portal Ã¼zerinden giriÅŸ yaptÄ±klarÄ±nda otomatik olarak eklenir. Yetkilendirme Portal Ã¼zerinden yapÄ±lÄ±r.</p>

        <label for="taseron_options">TaÅŸeron Åirketler</label>
        <textarea id="taseron_options" name="taseron_options" rows="6">{{ data.taseron_options | join('\n') }}</textarea>

        <label for="arac_plaka_options">AraÃ§ Plaka Listesi</label>
        <textarea id="arac_plaka_options" name="arac_plaka_options" rows="6">{{ data.arac_plaka_options | join('\n') }}</textarea>

        <button type="submit" class="button save">ğŸ’¾ DeÄŸiÅŸiklikleri Kaydet</button>
    </form>
</section>

{#
<!-- KullanÄ±cÄ±lar artÄ±k Portal Ã¼zerinden yÃ¶netiliyor. Bu tablolar kafa karÄ±ÅŸtÄ±rmamasÄ± iÃ§in gizlendi. -->
<section class="form-card">
    <h3>ğŸ‘‘ Admin KullanÄ±cÄ±larÄ±</h3>
    ...
</section>
#}

<section class="form-card">
    <h3>JSON DosyasÄ± YÃ¼kle</h3>
    <p>"taseron_options" ve "arac_plaka_options" anahtarlarÄ±nÄ± iÃ§eren bir JSON dosyasÄ± yÃ¼kleyerek bu listeleri toplu olarak gÃ¼ncelleyebilirsiniz. Ekip Ã¼yesi ve gÃ¶rev atama yetkilisi listeleri kullanÄ±cÄ± tablolarÄ±ndan yÃ¶netilir.</p>
    <form method="post" action="{{ url_for('admin_upload') }}" enctype="multipart/form-data" class="stacked">
        <input type="file" name="data_file" accept="application/json" required>
        <button type="submit" class="button secondary">ğŸ“ DosyayÄ± YÃ¼kle</button>
    </form>
</section>

<a class="button" href="{{ url_for('logout') }}">Ã‡Ä±kÄ±ÅŸ Yap</a>
{% endblock %}
