{% extends "base.html" %}
{% block title %}Form {{ form_no }} · Görev Tanımı{% endblock %}

{% block steps %}
<div class="step-indicator">
    {% for step in FORM_STEPS %}
        <div class="step {{ 'active' if loop.index0 == step_index else '' }} {{ 'complete' if loop.index0 < step_index else '' }}">
            <span class="step-number">{{ loop.index }}</span>
            <span class="step-title">{{ step.title }}</span>
        </div>
    {% endfor %}
</div>
{% endblock %}

{% block content %}
<h2>📝 Görevin Tanımı</h2>
<form method="post" action="{{ url_for('form_wizard', form_no=form_no, step=step_index) }}" class="form-card">
    <input type="hidden" name="action" value="next">
    <div class="form-row">
        <label for="gorev_tanimi">Görev Detayı</label>
        <textarea id="gorev_tanimi" name="gorev_tanimi" rows="10" placeholder="Görev kapsamını ayrıntılı şekilde yazınız">{{ form_data.get('gorev_tanimi', '') }}</textarea>
    </div>
    <div class="form-actions">
        <button type="submit" class="button secondary" data-action="submit-step" data-value="previous">← Geri</button>
        <button type="submit" class="button save" data-action="submit-step" data-value="save">💾 Kaydet</button>
        <button type="submit" class="button primary" data-action="submit-step" data-value="next">İleri →</button>
    </div>
</form>
{% endblock %}
